extends ../layout

block additionalCSS
  link(href="/assets/mapcover/css/mapcover.css" ,rel='stylesheet', type='text/css', media='screen')
  link(href='/css/landscape/homeownermng.css', rel='stylesheet', type='text/css', media='screen')  

block renderBody
  //-include ../snippets/breadcrum
  .mapcover#mapcover
    .mapcover-map#mapcover-map
    .mc-static2mapcontainer.panel#map-geosearch
      .row.search-row
        .col-xs-12
          .input-group
            //- span.input-group-addon Search
            input.form-control#map-input-geosearch(type='text', placeholder='Search FASIDS using address, aipcode...')
            span.input-group-btn
              //- button.btn#map-input-geosearch-btn(data-toggle="tooltip", data-placement="bottom" ,title="Search")
              button.btn#map-input-geosearch-btn()
                span.fa.fa-search()
        .col-xs-12.errormessage-container.hidden
          .alert-danger.alert
            button.close(type='button', data-dismiss='alert') ×
            | Error Message.

    .mc-static2mapcontainer.panel#map-tools-box
      .row
        .col-xs-4 
          if page_status.model_op === 'create'
            span.btn.btn-default.fa.fa-mouse-pointer#map-tool-area-pointer(data-operation = "map_tool_area_drawing")
          else if page_status.model_op === 'patch'
            span.btn.btn-default.fa.fa-floppy-o.fa-lg#map-tool-save(data-operation = "map_tool_save")
      .row
        .col-xs-4
          span.btn.btn-default#map-tool-hole(data-operation = "map_tool_holing") Make hole
      .row
        .col-xs-12
          span.btn.btn-default#map-tool-editpolygon(data-operation="map_tool_editpolygon") Edit shape
      .row
        .col-xs-12
          span.btn.btn-default#map-tool-settreatment(data-operation="map_tool_settreatment") Set treatment
      .row
        .col-xs-12
          if page_status.model_op === "create"
            span.btn.btn-default#map-tool-genresult(data-operation="map_tool_genresult") Save &amp; See Result
          else if page_status.model_op === "patch"
            span.btn.btn-default#map-tool-genresult(data-operation="map_tool_genresult") See Result

      .row
        .col-xs-4
          span.btn.btn-default#map-tool-cancel cancel
  .modal-container
    #purpose-modal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='myModalLabel')
      .modal-dialog(role='document')
        .modal-content
          .modal-header
            button.close(type='button', data-dismiss='modal', aria-label='Close')
              span(aria-hidden='true') ×
            h4#myModalLabel.modal-title Prepare treatment
          .modal-body
            form#purpose
              div
                label.radio-inline
                  input#housebuilding-radio(type='radio', name='landusage', value='housebuilding')
                  |  House &amp; Building
                label.radio-inline
                  input#lawnturf-radio(type='radio', name='landusage', value='lawnturf')
                  |  Lawn &amp; Turf
                label.radio-inline
                  input#vegetablegarden-radio(type='radio', name='landusage', value='vegetablegarden')
                  |  Vegetable Garden
              .divide30
              div
                label.radio-inline
                  input#imt-radio(type='radio', name='treatment', value='imt')
                  |  Individual Mound Treatment
                label.radio-inline
                  input#broadcast-radio(type='radio', name='treatment', value='broadcast')
                  |  Broadcast Baits
              .divide20
              .row
                .col-xs-4
                  .form-group
                    label(for='mound-density-input') Mound Density
                    .input-group
                      input#mound-density-input.form-control(type='number', name='mound_density', placeholder='0.57')
                      .input-group-addon
                        | m
                        sup 2
          .modal-footer
            button.btn.btn-default(type='button', data-dismiss='modal') Close
            button.btn.btn-primary#save-prepared-treatment(type='button') Save changes
  .hidden
    form#treatment(target="_blank",action="/landscape/treatment", method="post")
      input#geojson(type='text', name="geojson")
    form#patch( action="#{patch_url}", method="post")
      input(type="text", name="geojson")
    // This is used to
    meta(name="page_status", content="#{JSON.stringify(page_status)}")
    meta(name="target-polygon", content="#{JSON.stringify(geojson)}")




block additionalJS
  script(src='https://maps.googleapis.com/maps/api/js?key=AIzaSyA7z3meKGq4cAqC5iziMLVXuHPtwrFdIcY&libraries=geometry')
  script(src="/underscorejs/underscore-min.js")
  script(src="/js/backbone-min.js")
  // mapcover depends on backbone.js and underscore.js
  script(src="/assets/mapcover/js/mapcover.js")
  script(src="/js/landscape/DeleteMenu.js")
  script(src="/js/landscape/homeownermng.js" )

